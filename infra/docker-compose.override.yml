services:  observer_hub:    build: ../backend/observer_hub    networks:      - foundry_net    environment:      PROM_URL: ${PROM_URL:-http://prometheus:9090}    networks:      - foundry_net      ALERT_URL: ${ALERT_URL:-http://alertmanager:9093}      LOG_INDEXER_URL: ${LOG_INDEXER_URL:-http://log_indexer:8081}    ports:      - "${OBSERVER_PORT:-8070}:8070"    networks:      - foundry_net    restart: unless-stopped    healthcheck:      test: ["CMD", "wget", "-qO-", "http://localhost:8070/health"]    networks:      - foundry_net      interval: 15s      timeout: 5s      retries: 5      start_period: 10s    networks:      - appnet    networks:      - foundry_net    depends_on:      - prometheus    networks:      - foundry_net      - alertmanager    networks:      - infra_appnet    networks:      - foundry_net  rca_ai:    build: ../backend/rca_ai    networks:      - foundry_net    environment:      LOG_INDEXER_URL: ${LOG_INDEXER_URL:-http://log_indexer:8081}    networks:      - foundry_net      ORCH_URL: ${ORCH_URL:-http://orchestrator:8000}      OBSERVER_URL: ${OBSERVER_URL:-http://observer_hub:8070}    ports:      - "${RCA_PORT:-8082}:8082"    networks:      - foundry_net    restart: unless-stopped    healthcheck:      test: ["CMD", "wget", "-qO-", "http://localhost:8082/health"]    networks:      - foundry_net      interval: 15s      timeout: 5s      retries: 5      start_period: 10s    networks:      - appnet    networks:      - foundry_net    depends_on:      - observer_hub    networks:      - foundry_net    networks:      - infra_appnet    networks:      - foundry_net  hardening_ai:    build: ../backend/hardening_ai    networks:      - foundry_net    environment:      REPO_URL: ${GIT_REPO:-}    networks:      - foundry_net      GITHUB_TOKEN: ${GITHUB_TOKEN:-}      NGINX_DIR: /work/nginx      INFRA_DIR: /work/infra    volumes:      - ../infra/nginx:/work/nginx    networks:      - foundry_net      - ../infra:/work/infra    ports:      - "${HARDEN_PORT:-8083}:8083"    networks:      - foundry_net    restart: unless-stopped    healthcheck:      test: ["CMD", "wget", "-qO-", "http://localhost:8083/health"]    networks:      - foundry_net      interval: 15s      timeout: 5s      retries: 5      start_period: 10s    networks:      - appnet    networks:      - foundry_net      - infra_appnet  metrics_tuner:    build: ../backend/metrics_tuner    networks:      - foundry_net    environment:      PROM_URL: ${PROM_URL:-http://prometheus:9090}    networks:      - foundry_net      OUTPUT_RULES: /rules/_generated.yml    volumes:      - ../infra/prometheus/rules:/rules    networks:      - foundry_net    command: ["python", "/app/cron.py"]    restart: unless-stopped    networks:      - appnet    networks:      - foundry_net    depends_on:      - prometheus    networks:      - foundry_net    networks:      - infra_appnet    networks:      - foundry_net  attack_driver:    build: ../backend/attack_driver    networks:      - foundry_net    environment:      ORCH_URL: ${ORCH_URL:-http://orchestrator:8000}    networks:      - foundry_net      TARGET_NET: ${TARGET_NET:-default}    ports:      - "${ATTACK_PORT:-8084}:8084"    networks:      - foundry_net    restart: unless-stopped    healthcheck:      test: ["CMD", "wget", "-qO-", "http://localhost:8084/health"]    networks:      - foundry_net      interval: 15s      timeout: 5s      retries: 5      start_period: 10s    networks:      - appnet    networks:      - foundry_net      - infra_appnetnetworks:  infra_appnet:    external: true  appnet:    external: true